{"remainingRequest":"C:\\Users\\YH\\Desktop\\vue\\springboot-vue\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\YH\\Desktop\\vue\\springboot-vue\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\YH\\Desktop\\vue\\springboot-vue\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\YH\\Desktop\\vue\\springboot-vue\\vue\\src\\views\\Register.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\YH\\Desktop\\vue\\springboot-vue\\vue\\src\\views\\Register.vue","mtime":1641111980888},{"path":"C:\\Users\\YH\\Desktop\\vue\\springboot-vue\\vue\\babel.config.js","mtime":1640434357542},{"path":"C:\\Users\\YH\\Desktop\\vue\\springboot-vue\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640434318897},{"path":"C:\\Users\\YH\\Desktop\\vue\\springboot-vue\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1640434325378},{"path":"C:\\Users\\YH\\Desktop\\vue\\springboot-vue\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640434318897},{"path":"C:\\Users\\YH\\Desktop\\vue\\springboot-vue\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1640434324590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJlcXVlc3QgZnJvbSAiLi4vdXRpbHMvcmVxdWVzdCI7CmltcG9ydCB7IEVsTWVzc2FnZSB9IGZyb20gImVsZW1lbnQtcGx1cyI7CmltcG9ydCB7IEF2YXRhciB9IGZyb20gJ0BlbGVtZW50LXBsdXMvaWNvbnMtdnVlJzsKaW1wb3J0IHsgTG9jayB9IGZyb20gIkBlbGVtZW50LXBsdXMvaWNvbnMtdnVlIjsgLy/ov5nkuKrkuJzopb/nmoTms6jlhozopoHlnKhkYXRhIHJldHVybumHjOS4jeWPr+S7peazqOWGjOS4uue7hOS7tgoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIC8v5a6Y5pa557uZ5Ye655qE5LiA56eN5Yik5pat5pa55rOV77yM5YW25a6e5LiN5aaCcmVxdWlyZWQ6dHJ1ZQogICAgdmFyIHZhbGlkYXRlUGFzcyA9IGZ1bmN0aW9uIHZhbGlkYXRlUGFzcyhydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgaWYgKHZhbHVlID09PSAnJykgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWl5a+G56CB77yBJykpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmIChfdGhpcy5ydWxlRm9ybS5jaGVja1Bhc3MgIT09ICcnKSB7CiAgICAgICAgICBfdGhpcy4kcmVmcy5ydWxlRm9ybS52YWxpZGF0ZUZpZWxkKCdjaGVja1Bhc3MnKTsKICAgICAgICB9CgogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07CgogICAgdmFyIHZhbGlkYXRlUGFzczIgPSBmdW5jdGlvbiB2YWxpZGF0ZVBhc3MyKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAodmFsdWUgPT09ICcnKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7flho3mrKHovpPlhaXlr4bnoIHvvIEnKSk7CiAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IF90aGlzLnJ1bGVGb3JtLnBhc3N3b3JkKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfkuKTmrKHlr4bnoIHovpPlhaXkuI3ljLnphY3vvIEnKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gewogICAgICBMb2NrOiBMb2NrLAogICAgICBBdmF0YXI6IEF2YXRhciwKICAgICAgZm9ybToge30sCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBjaGVja1Bhc3M6ICcnLAogICAgICBydWxlRm9ybTogewogICAgICAgIG51bWJlcjogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlUGFzcywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGNoZWNrUGFzczogW3sKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVQYXNzMiwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTdWJtaXQ6IGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmZvcm0ubnVtYmVyID0gdGhpcy5ydWxlRm9ybS5udW1iZXI7CiAgICAgIHJlcXVlc3QucG9zdCgiL3VzZXIvcmVhbE5hbWUiLCB0aGlzLmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuY29kZSA9PT0gJzAnKSB7CiAgICAgICAgICBFbE1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiAi5oiQ5Yqf5a6e5ZCN5Yi2ISIsCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgfSk7CiAgICAgICAgICBfdGhpczIuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwoKICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goIi9ob21lIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIEVsTWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2csCiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybShmb3JtTmFtZSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgcmVxdWVzdC5wb3N0KCIvdXNlci9yZWdpc3RlciIsIF90aGlzMy5ydWxlRm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gJzAnKSB7CiAgICAgICAgICAgICAgRWxNZXNzYWdlKHsKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLmiJDlip/ms6jlhowhIiwKICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oImlkIiwgX3RoaXMzLnJ1bGVGb3JtLm51bWJlcik7CiAgICAgICAgICAgICAgX3RoaXMzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIEVsTWVzc2FnZSh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXMubXNnLAogICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIHN1Ym1pdCEhJyk7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICByZXNldEZvcm06IGZ1bmN0aW9uIHJlc2V0Rm9ybSgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:\\Users\\YH\\Desktop\\vue\\springboot-vue\\vue\\src\\views\\Register.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"login-container\" >\r\n        <el-form\r\n                ref=\"ruleForm\"\r\n                :model=\"ruleForm\"\r\n                status-icon\r\n                :rules=\"rules\"\r\n                label-position=\"top\"\r\n                class=\"login-page\"\r\n        >\r\n            <h3 class=\"title\">用户注册</h3>\r\n            <el-form-item prop=\"number\" label=\"电话号码\" :rules=\"[\r\n        {\r\n          required: true,\r\n          message: '请输入电话号码!',\r\n          trigger: 'blur',\r\n        }]\">\r\n                <el-input v-model=\"ruleForm.number\" placeholder=\"电话号码\" :prefix-icon=\"Avatar\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item prop=\"password\" label=\"密码\">\r\n                <el-input\r\n                        v-model=\"ruleForm.password\"\r\n                        type=\"password\"\r\n                        autocomplete=\"off\"\r\n                        placeholder=\"密码\"\r\n                        :prefix-icon=\"Lock\"\r\n                ></el-input>\r\n            </el-form-item>\r\n            <el-form-item prop=\"checkPass\" label=\"再次输入密码\">\r\n                <el-input\r\n                        v-model=\"ruleForm.checkPass\"\r\n                        type=\"password\"\r\n                        autocomplete=\"off\"\r\n                        placeholder=\"再次输入密码\"\r\n                        :prefix-icon=\"Lock\"\r\n                ></el-input>\r\n            </el-form-item>\r\n\r\n            <el-form-item>\r\n                <el-button type=\"primary\" @click=\"submitForm('ruleForm')\"\r\n                >确定</el-button\r\n                >\r\n                <el-button @click=\"resetForm('ruleForm')\">返回登陆页</el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n\r\n        <el-dialog\r\n                v-model=\"dialogVisible\"\r\n                title=\"实名制信息填写\"\r\n                width=\"30%\"\r\n        >\r\n\r\n            <el-form\r\n                    ref=\"form\"\r\n                    :model=\"form\"\r\n                    status-icon\r\n                    :rules=\"rules\"\r\n                    label-position=\"top\"\r\n            >\r\n                <el-form-item prop=\"name\" label=\"姓名\" :rules=\"[\r\n        {\r\n          required: true,\r\n          message: '请输入姓名!',\r\n          trigger: 'blur',\r\n        }]\">\r\n                    <el-input v-model=\"form.name\" placeholder=\"姓名\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item prop=\"idCard\" label=\"身份证号\" :rules=\"[\r\n        {\r\n          required: true,\r\n          message: '请输入身份证号!',\r\n          trigger: 'blur',\r\n        }]\">\r\n                    <el-input v-model=\"form.idCard\" placeholder=\"身份证号\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item prop=\"age\" label=\"年龄\" :rules=\"[\r\n        {\r\n          required: true,\r\n          message: '请输入年龄!',\r\n          trigger: 'blur',\r\n        }]\">\r\n                    <el-input v-model.number=\"form.age\" label=\"年龄\" placeholder=\"年龄\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item prop=\"sex\" label=\"性别\" :rules=\"[\r\n        {\r\n          required: true,\r\n          message: '请选择性别!',\r\n          trigger: 'blur',\r\n        }]\">\r\n                    <el-radio v-model=\"form.sex\" label=\"男\">男</el-radio>\r\n                    <el-radio v-model=\"form.sex\" label=\"女\">女</el-radio>\r\n                </el-form-item>\r\n\r\n            </el-form>\r\n            <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"handleSubmit\"\r\n        >提交</el-button\r\n        >\r\n      </span>\r\n            </template>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import request from \"../utils/request\";\r\n    import {ElMessage} from \"element-plus\";\r\n    import {Avatar} from '@element-plus/icons-vue'\r\n    import {Lock} from \"@element-plus/icons-vue\"\r\n    //这个东西的注册要在data return里不可以注册为组件\r\n\r\n    export default {\r\n\r\n        data() {\r\n            //官方给出的一种判断方法，其实不如required:true\r\n            const validatePass = (rule, value, callback) => {\r\n                if (value === '') {\r\n                    callback(new Error('请输入密码！'))\r\n                } else {\r\n                    if (this.ruleForm.checkPass !== '') {\r\n                        this.$refs.ruleForm.validateField('checkPass')\r\n                    }\r\n                    callback()\r\n                }\r\n            }\r\n            const validatePass2 = (rule, value, callback) => {\r\n                if (value === '') {\r\n                    callback(new Error('请再次输入密码！'))\r\n                } else if (value !== this.ruleForm.password) {\r\n                    callback(new Error('两次密码输入不匹配！'))\r\n                } else {\r\n                    callback()\r\n                }\r\n            }\r\n            return {\r\n                Lock,\r\n                Avatar,\r\n                form:{},\r\n                dialogVisible:false,\r\n                checkPass: '',\r\n                ruleForm: {\r\n                    number: '',\r\n                    password: '',\r\n                },\r\n                rules: {\r\n                    password: [{ validator: validatePass, trigger: 'blur' }],\r\n                    checkPass: [{ validator: validatePass2, trigger: 'blur' }],\r\n                },\r\n            }\r\n        },\r\n        methods: {\r\n            handleSubmit() {\r\n                this.form.number = this.ruleForm.number\r\n                request.post(\"/user/realName\",this.form).then(res => {\r\n                    if(res.code === '0'){\r\n                        ElMessage({\r\n                            message: \"成功实名制!\",\r\n                            type: 'success',\r\n                        })\r\n                        this.dialogVisible=false\r\n                        this.$router.push(\"/home\")\r\n                    }\r\n                    else {\r\n                        ElMessage({\r\n                            message: res.msg,\r\n                            type: 'error',\r\n                        })\r\n                    }\r\n                })\r\n            },\r\n            submitForm(formName) {\r\n                this.$refs[formName].validate((valid) => {\r\n                    if (valid) {\r\n                        request.post(\"/user/register\",this.ruleForm).then(res => {\r\n                            if(res.code === '0'){\r\n                                ElMessage({\r\n                                    message: \"成功注册!\",\r\n                                    type: 'success',\r\n                                })\r\n                                sessionStorage.setItem(\"id\",this.ruleForm.number)\r\n                                this.dialogVisible=true\r\n                            }\r\n                            else {\r\n                                ElMessage({\r\n                                    message: res.msg,\r\n                                    type: 'error',\r\n                                })\r\n                            }\r\n                        })\r\n                    } else {\r\n                        console.log('error submit!!')\r\n                        return false\r\n                    }\r\n                })\r\n            },\r\n            resetForm() {\r\n                this.$router.push('/login')\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .login-container {\r\n        width: 100%;\r\n        height: 100%;\r\n    }\r\n    .login-page {\r\n        -webkit-border-radius: 5px;\r\n        border-radius: 5px;\r\n        margin: 180px auto;\r\n        width: 350px;\r\n        padding: 35px 35px 15px;\r\n        background: #fff;\r\n        border: 1px solid #eaeaea;\r\n        box-shadow: 0 0 25px #cac6c6;\r\n    }\r\n</style>\r\n"],"sourceRoot":""}]}