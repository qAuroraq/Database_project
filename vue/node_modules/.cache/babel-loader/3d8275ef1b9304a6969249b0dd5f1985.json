{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\project\\src\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\project\\src\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Administrator\\Desktop\\project\\src\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Administrator\\Desktop\\project\\src\\vue\\src\\views\\Home.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\project\\src\\vue\\src\\views\\Home.vue","mtime":1686575070197},{"path":"C:\\Users\\Administrator\\Desktop\\project\\src\\vue\\babel.config.js","mtime":1683446153420},{"path":"C:\\Users\\Administrator\\Desktop\\project\\src\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640434318897},{"path":"C:\\Users\\Administrator\\Desktop\\project\\src\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1640434325378},{"path":"C:\\Users\\Administrator\\Desktop\\project\\src\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640434318897},{"path":"C:\\Users\\Administrator\\Desktop\\project\\src\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1640434324590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gQCBpcyBhbiBhbGlhcyB0byAvc3JjCmltcG9ydCByZXF1ZXN0IGZyb20gIi4uL3V0aWxzL3JlcXVlc3QiOwppbXBvcnQgeyBFbE1lc3NhZ2UgfSBmcm9tICdlbGVtZW50LXBsdXMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0hvbWUnLAogIGNvbXBvbmVudHM6IHsKICAgIEVsTWVzc2FnZTogRWxNZXNzYWdlCiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5pbnRlcmNlcCgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJhZGlvMTogbnVsbCwKICAgICAgcmFkaW8yOiAi5YWo56WoIiwKICAgICAgcHJpY2UxOiAwLAogICAgICByZXN0TnVtYmVyOiAwLAogICAgICBub1RpY2tldDogdHJ1ZSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHRvdGFsOiAwLAogICAgICBwcmljZTogMCwKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgdGlja2V0Rm9ybTogewogICAgICAgIHNlYXRUeXBlOiAnJywKICAgICAgICBwcmljZTogMAogICAgICB9LAogICAgICBmb3JtOiB7CiAgICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgICAgcGFnZVNpemU6IDUKICAgICAgfSwKICAgICAgdGVtcEZvcm06IHt9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaW50ZXJjZXA6IGZ1bmN0aW9uIGludGVyY2VwKCkgewogICAgICByZXF1ZXN0LmdldCgiL3RpY2tldE1hbmFnZXIvaW50ZXJjZXB0b3IiKTsKICAgIH0sCiAgICBsb2FkOiBmdW5jdGlvbiBsb2FkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmVxdWVzdC5wb3N0KCIvdGlja2V0TWFuYWdlciIsIHRoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2coX3RoaXMuZm9ybSk7CgogICAgICAgIGlmIChyZXMuY29kZSA9PT0gJzAnKSB7CiAgICAgICAgICBFbE1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiAi5p+l6K+i5oiQ5YqfISIsCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgfSk7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgX3RoaXMudGFibGVEYXRhID0gcmVzLmRhdGEucmVjb3JkczsKICAgICAgICAgIF90aGlzLnRvdGFsID0gcmVzLmRhdGEudG90YWw7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIEVsTWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2csCiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgIH0pOwogICAgICAgICAgX3RoaXMudGFibGVEYXRhID0gMDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UoKSB7CiAgICAgIHRoaXMubG9hZCgpOwogICAgfSwKICAgIGhhbmRsZVNpemVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNpemVDaGFuZ2UocGFnZXNpemUpIHsKICAgICAgdGhpcy5mb3JtLnBhZ2VTaXplID0gcGFnZXNpemU7CiAgICAgIHRoaXMubG9hZCgpOwogICAgfSwKICAgIGhhbmRsZVNlYXJjaDogZnVuY3Rpb24gaGFuZGxlU2VhcmNoKCkgewogICAgICB0aGlzLmxvYWQoKTsKICAgIH0sCiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24gaGFuZGxlQ2xpY2socm93KSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMudGFibGVEYXRhKTsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgY29uc29sZS5sb2cocm93KTsKICAgICAgdGhpcy50aWNrZXRGb3JtID0gcm93OwogICAgICBjb25zb2xlLmxvZyh0aGlzLnRpY2tldEZvcm0pOwogICAgfSwKICAgIGdldFJlc3RCeVNlYXRUeXBlOiBmdW5jdGlvbiBnZXRSZXN0QnlTZWF0VHlwZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZyh0aGlzLmZvcm0uY2hlY2kpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLnJhZGlvMSk7CiAgICAgIHRoaXMudGlja2V0Rm9ybS5zZWF0VHlwZSA9IHRoaXMucmFkaW8xOwogICAgICByZXF1ZXN0LnBvc3QoIi90aWNrZXRNYW5hZ2VyL2dldFJlc3RCeVNlYXRUeXBlIiwgdGhpcy50aWNrZXRGb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmNvZGUgPT09ICcwJykgewogICAgICAgICAgRWxNZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogIuaIkOWKnyIsCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgfSk7CiAgICAgICAgICBfdGhpczIucmVzdE51bWJlciA9IHJlcy5kYXRhLnNlYXROdW1iZXI7CiAgICAgICAgICBfdGhpczIucHJpY2UgPSByZXMuZGF0YS5wcmljZTsKICAgICAgICAgIF90aGlzMi5wcmljZTEgPSBfdGhpczIucHJpY2UgLyAyOwogICAgICAgICAgX3RoaXMyLm5vVGlja2V0ID0gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIEVsTWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2csCiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgIH0pOwogICAgICAgICAgX3RoaXMyLnJlc3ROdW1iZXIgPSAwOwogICAgICAgICAgX3RoaXMyLnByaWNlID0gMDsKICAgICAgICAgIF90aGlzMi5wcmljZTEgPSAwOwogICAgICAgICAgX3RoaXMyLm5vVGlja2V0ID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFByaWNlOiBmdW5jdGlvbiBnZXRQcmljZSgpIHsKICAgICAgaWYgKHRoaXMucmFkaW8yID09PSAi5a2m55Sf56WoIiB8fCB0aGlzLnJhZGlvMiA9PT0gIuWEv+erpeelqCIpIHsKICAgICAgICB0aGlzLnByaWNlID0gdGhpcy5wcmljZTE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wcmljZSA9IHRoaXMucHJpY2UxICogMjsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUJ1eTogZnVuY3Rpb24gaGFuZGxlQnV5KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMudGlja2V0Rm9ybS5zZWF0VHlwZSA9IHRoaXMucmFkaW8xOwogICAgICB0aGlzLnRpY2tldEZvcm0udGlja2V0VHlwZSA9IHRoaXMucmFkaW8yOwogICAgICBjb25zb2xlLmxvZyh0aGlzLnRpY2tldEZvcm0pOwogICAgICB0aGlzLnRpY2tldEZvcm0uaWRDYXJkID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiaWQiKTsKICAgICAgcmVxdWVzdC5wb3N0KCIvdGlja2V0TWFuYWdlci9idXkiLCB0aGlzLnRpY2tldEZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuY29kZSA9PT0gJzAnKSB7CiAgICAgICAgICBFbE1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiAi5oiQ5YqfIiwKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICB9KTsKICAgICAgICAgIF90aGlzMy50aWNrZXRGb3JtID0ge307CiAgICAgICAgICBfdGhpczMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBFbE1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiByZXMubXNnLAogICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUNhbmNlbDogZnVuY3Rpb24gaGFuZGxlQ2FuY2VsKCkgewogICAgICB0aGlzLnRpY2tldEZvcm0gPSB7fTsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\project\\src\\vue\\src\\views\\Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<div style=\"padding-left: 20px;padding-right: 20px\">\n    <div style=\"margin:10px 0\">\n        <el-form :model=\"form\" label-position=\"left\" style=\"width: 80%\">\n            <el-row>\n                <el-col style=\"padding-right: 30px\" span=\"8\">\n                    <el-form-item prop=\"src\" label=\"出发地\" :rules=\"[\n                    {\n                      required: true,\n                      message: '请输入出发地!',\n                      trigger: 'blur',\n                    }]\">\n                        <el-input type=\"text\" v-model=\"form.src\" auto-complete=\"off\" placeholder=\"出发地\"></el-input>\n                    </el-form-item>\n                </el-col>\n                <el-col style=\"padding-right: 30px\" span=\"8\">\n                    <el-form-item prop=\"dst\" label=\"目的地\" :rules=\"[\n                    {\n                      required: true,\n                      message: '请输入目的地!',\n                      trigger: 'blur',\n                    }]\">\n                        <el-input type=\"text\" v-model=\"form.dst\" auto-complete=\"off\" placeholder=\"目的地\"></el-input>\n                    </el-form-item>\n                </el-col>\n                <el-col span=\"8\">\n                    <el-form-item prop=\"srcTime\" :rules=\"[\n                    {\n                      required: true,\n                      message: '请输入出发时间!',\n                      trigger: 'blur',\n                    }]\">\n                        <el-date-picker v-model=\"form.srcTime\" type=\"date\" placeholder=\"Pick a date\" style=\"width: 100%\" value-format=\"YYYY-MM-DD\"></el-date-picker>\n                    </el-form-item>\n\n                </el-col>\n            </el-row>\n\n            <el-form-item style=\"width:50%;\">\n                <el-button type=\"primary\" style=\"width:100%;\" @click=\"handleSearch\">查询</el-button>\n            </el-form-item>\n        </el-form>\n    </div>\n    <el-divider></el-divider>\n    <div>\n        <el-table :data=\"tableData\" style=\"width: 100%\" stripe>\n            <el-table-column prop=\"checi\" label=\"车次\" />\n            <el-table-column prop=\"src\" label=\"出发站\" />\n            <el-table-column prop=\"srcTime\" label=\"出发时间\" />\n            <el-table-column prop=\"dst\" label=\"目的站\" />\n            <el-table-column prop=\"dstTime\" label=\"抵达时间\" />\n            <el-table-column prop=\"trainType\" label=\"类型\" />\n            <!--                <el-table-column prop=\"seatNumber\" label=\"剩余座位数量\"/>-->\n            <!--                <el-table-column prop=\"price\" label=\"价格\"/>-->\n            <el-table-column fixed=\"right\" label=\"操作\">\n                <template #default=\"scope\">\n                    <el-button type=\"text\" size=\"small\" @click=\"handleClick(scope.row)\">购票</el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n\n        <el-dialog v-model=\"dialogVisible\" title=\"购票信息填写\" width=\"30%\">\n\n            <el-form ref=\"form\" :model=\"ticketForm\" status-icon label-position=\"top\">\n                <el-form-item prop=\"seatType\" label=\"座位类型\" :rules=\"[\n                    {\n                      required: true,\n                      message: '请选择座位类型!',\n                      trigger: 'blur',\n                    }]\">\n                    <el-radio-group size=\"large\" v-model=\"radio1\" @change=\"getRestBySeatType\">\n                        <el-radio-button label=\"一等座\"></el-radio-button>\n                        <el-radio-button label=\"二等座\"></el-radio-button>\n                        <el-radio-button label=\"商务座\"></el-radio-button>\n                        <el-radio-button label=\"软卧\"></el-radio-button>\n                    </el-radio-group>\n                </el-form-item>\n                <el-form-item prop=\"carriageNumber\" :rules=\"[\n                    {\n                      required: true,\n                      message: '请输入车厢号!',\n                      trigger: 'blur',\n                    }]\">\n                    <el-input v-model.number=\"ticketForm.carriageNumber\" placeholder=\"车厢号\"></el-input>\n                </el-form-item>\n                <el-form-item prop=\"seatNum\" :rules=\"[\n                    {\n                      required: true,\n                      message: '请输入座位号!',\n                      trigger: 'blur',\n                    }]\">\n                    <el-input v-model=\"ticketForm.seatNum\" placeholder=\"座位号\"></el-input>\n                </el-form-item>\n                <el-form-item prop=\"seatType\" label=\"票类型\" :rules=\"[\n                    {\n                      required: true,\n                      message: '请选择座位类型!',\n                      trigger: 'blur',\n                    }]\">\n                    <el-radio-group v-model=\"radio2\" size=\"large\" @change=\"getPrice\">\n                        <el-radio-button label=\"全票\"></el-radio-button>\n                        <el-radio-button label=\"学生票\"></el-radio-button>\n                        <el-radio-button label=\"儿童票\"></el-radio-button>\n                    </el-radio-group>\n                </el-form-item>\n            </el-form>\n            <div style=\"padding-top: 15px\">\n                余票数:\n                <el-input readonly v-model.number=\"restNumber\"></el-input>\n            </div>\n            <div style=\"padding-top: 15px\">\n                票价:\n                <el-input v-model.number=\"price\" readonly></el-input>\n            </div>\n            <template #footer>\n                <span class=\"dialog-footer\">\n                    <el-button @click=\"handleCancel\">取消</el-button>\n                    <el-button type=\"primary\" @click=\"handleBuy\" :disabled=\"noTicket\">购买</el-button>\n                </span>\n            </template>\n        </el-dialog>\n    </div>\n    <div class=\"demo-pagination-block\">\n        <el-pagination v-model:currentPage=\"form.currentPage\" :page-sizes=\"[5, 10, 15, 20]\" :page-size=\"form.pageSize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\" @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\">\n        </el-pagination>\n    </div>\n</div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport request from \"../utils/request\";\nimport {\n    ElMessage\n} from 'element-plus'\n\nexport default{\n    name: 'Home',\n    components: {\n        ElMessage\n    },\n    created() {\n        this.intercep()\n    },\n    data() {\n\n        return {\n            radio1: null,\n            radio2: \"全票\",\n            price1: 0,\n            restNumber: 0,\n            noTicket: true,\n            dialogVisible: false,\n            total: 0,\n            price: 0,\n            tableData: [],\n            ticketForm: {\n                seatType: '',\n                price: 0,\n\n            },\n            form: {\n                currentPage: 1,\n                pageSize: 5,\n            },\n            tempForm: {}\n        }\n    },\n    methods: {\n        intercep() {\n            request.get(\"/ticketManager/interceptor\")\n        },\n        load() {\n            request.post(\"/ticketManager\", this.form).then(res => {\n                console.log(this.form)\n                if (res.code === '0') {\n                    ElMessage({\n                        message: \"查询成功!\",\n                        type: 'success',\n                    })\n                    console.log(res)\n                    this.tableData = res.data.records\n                    this.total = res.data.total\n                } else {\n                    ElMessage({\n                        message: res.msg,\n                        type: 'error',\n                    })\n                    this.tableData = 0\n                }\n            })\n        },\n        handleCurrentChange() {\n            this.load()\n        },\n        handleSizeChange(pagesize) {\n            this.form.pageSize = pagesize\n            this.load()\n        },\n        handleSearch() {\n            this.load()\n        },\n        handleClick(row) {\n            console.log(this.tableData)\n            this.dialogVisible = true\n            console.log(row)\n            this.ticketForm = row\n            console.log(this.ticketForm)\n        },\n        getRestBySeatType() {\n            console.log(this.form.checi)\n            console.log(this.radio1)\n            this.ticketForm.seatType = this.radio1\n            request.post(\"/ticketManager/getRestBySeatType\", this.ticketForm).then(res => {\n                if (res.code === '0') {\n                    ElMessage({\n                        message: \"成功\",\n                        type: 'success',\n                    })\n                    this.restNumber = res.data.seatNumber\n                    this.price = res.data.price\n                    this.price1 = this.price / 2\n                    this.noTicket = false\n                } else {\n                    ElMessage({\n                        message: res.msg,\n                        type: 'error',\n                    })\n                    this.restNumber = 0\n                    this.price = 0\n                    this.price1 = 0\n                    this.noTicket = true\n                }\n                console.log(res)\n\n            })\n        },\n        getPrice() {\n            if (this.radio2 === \"学生票\" || this.radio2 === \"儿童票\") {\n                this.price = this.price1\n            } else {\n                this.price = this.price1 * 2\n            }\n        },\n        handleBuy() {\n            this.ticketForm.seatType = this.radio1\n            this.ticketForm.ticketType = this.radio2\n            console.log(this.ticketForm)\n            this.ticketForm.idCard = sessionStorage.getItem(\"id\")\n            request.post(\"/ticketManager/buy\", this.ticketForm).then(res => {\n                if (res.code === '0') {\n                    ElMessage({\n                        message: \"成功\",\n                        type: 'success',\n                    })\n                    this.ticketForm = {}\n                    this.dialogVisible = false\n                } else {\n                    ElMessage({\n                        message: res.msg,\n                        type: 'error',\n                    })\n                }\n                console.log(res)\n\n            })\n        },\n        handleCancel() {\n            this.ticketForm = {}\n            this.dialogVisible = false\n        }\n    }\n}\n</script>\n"],"sourceRoot":""}]}