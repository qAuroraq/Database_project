{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\project\\源代码\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\project\\源代码\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Administrator\\Desktop\\project\\源代码\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Administrator\\Desktop\\project\\源代码\\vue\\src\\views\\MyTicket.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\project\\源代码\\vue\\src\\views\\MyTicket.vue","mtime":1641112104655},{"path":"C:\\Users\\Administrator\\Desktop\\project\\源代码\\vue\\babel.config.js","mtime":1640434357542},{"path":"C:\\Users\\Administrator\\Desktop\\project\\源代码\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640434318897},{"path":"C:\\Users\\Administrator\\Desktop\\project\\源代码\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1640434325378},{"path":"C:\\Users\\Administrator\\Desktop\\project\\源代码\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640434318897},{"path":"C:\\Users\\Administrator\\Desktop\\project\\源代码\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1640434324590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gQCBpcyBhbiBhbGlhcyB0byAvc3JjCmltcG9ydCByZXF1ZXN0IGZyb20gIi4uL3V0aWxzL3JlcXVlc3QiOwppbXBvcnQgeyBFbE1lc3NhZ2UgfSBmcm9tICdlbGVtZW50LXBsdXMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0hvbWUnLAogIGNvbXBvbmVudHM6IHsKICAgIEVsTWVzc2FnZTogRWxNZXNzYWdlCiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkKCk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdG90YWw6IDAsCiAgICAgIHByaWNlOiAwLAogICAgICB0YWJsZURhdGE6IFtdLAogICAgICB0aWNrZXRGb3JtOiB7CiAgICAgICAgc2VhdFR5cGU6ICcnLAogICAgICAgIHByaWNlOiAwCiAgICAgIH0sCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBwYWdlU2l6ZTogNSwKICAgICAgdGVtcEZvcm06IHt9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbG9hZDogZnVuY3Rpb24gbG9hZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJlcXVlc3QuZ2V0KCIvdGlja2V0TWFuYWdlci9teVRpY2tldCIsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGN1cnJlbnRQYWdlOiB0aGlzLmN1cnJlbnRQYWdlLAogICAgICAgICAgcGFnZVNpemU6IHRoaXMucGFnZVNpemUsCiAgICAgICAgICBpZDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiaWQiKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAnMCcpIHsKICAgICAgICAgIEVsTWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICLmn6Xor6LmiJDlip8hIiwKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICB9KTsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICBfdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YS5yZWNvcmRzOwogICAgICAgICAgX3RoaXMudG90YWwgPSByZXMuZGF0YS50b3RhbDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgRWxNZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1zZywKICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgfSk7CiAgICAgICAgICBfdGhpcy50YWJsZURhdGEgPSAwOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZSgpIHsKICAgICAgdGhpcy5sb2FkKCk7CiAgICB9LAogICAgaGFuZGxlU2l6ZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2l6ZUNoYW5nZShwYWdlc2l6ZSkgewogICAgICB0aGlzLnBhZ2VTaXplID0gcGFnZXNpemU7CiAgICAgIHRoaXMubG9hZCgpOwogICAgfSwKICAgIGhhbmRsZVNlYXJjaDogZnVuY3Rpb24gaGFuZGxlU2VhcmNoKCkgewogICAgICB0aGlzLmxvYWQoKTsKICAgIH0sCiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24gaGFuZGxlQ2xpY2socm93KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2cocm93KTsKICAgICAgdGhpcy50aWNrZXRGb3JtID0gcm93OwogICAgICByZXF1ZXN0LnBvc3QoIi90aWNrZXRNYW5hZ2VyL3JldHVybiIsIHRoaXMudGlja2V0Rm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAnMCcpIHsKICAgICAgICAgIEVsTWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICLpgIDnpajmiJDlip8hIiwKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczIubG9hZCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBFbE1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiByZXMubXNnLAogICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\project\\源代码\\vue\\src\\views\\MyTicket.vue"],"names":[],"mappings":"AAsCI;AACA,OAAO,OAAP,MAAoB,kBAApB;AACA,SAAQ,SAAR,QAAwB,cAAxB;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,MADK;AAGX,EAAA,UAAU,EAAE;AACR,IAAA,SAAQ,EAAR;AADQ,GAHD;AAMX,EAAA,OANW,qBAMD;AACN,SAAK,IAAL;AACH,GARU;AASX,EAAA,IATW,kBASJ;AACH,WAAO;AACH,MAAA,KAAK,EAAE,CADJ;AAEH,MAAA,KAAK,EAAC,CAFH;AAGH,MAAA,SAAS,EAAE,EAHR;AAIH,MAAA,UAAU,EAAC;AACP,QAAA,QAAQ,EAAC,EADF;AAEP,QAAA,KAAK,EAAE;AAFA,OAJR;AAQH,MAAA,WAAW,EAAE,CARV;AASH,MAAA,QAAQ,EAAE,CATP;AAUH,MAAA,QAAQ,EAAC;AAVN,KAAP;AAYH,GAtBU;AAuBX,EAAA,OAAO,EAAE;AACL,IAAA,IADK,kBACE;AAAA;;AACH,MAAA,OAAO,CAAC,GAAR,CAAY,yBAAZ,EAAuC;AACnC,QAAA,MAAM,EAAC;AACH,UAAA,WAAW,EAAC,KAAK,WADd;AAEH,UAAA,QAAQ,EAAC,KAAK,QAFX;AAGH,UAAA,EAAE,EAAC,cAAc,CAAC,OAAf,CAAuB,IAAvB;AAHA;AAD4B,OAAvC,EAMG,IANH,CAMQ,UAAA,GAAE,EAAK;AACX,YAAI,GAAG,CAAC,IAAJ,KAAa,GAAjB,EAAsB;AAClB,UAAA,SAAS,CAAC;AACN,YAAA,OAAO,EAAE,OADH;AAEN,YAAA,IAAI,EAAE;AAFA,WAAD,CAAT;AAIA,UAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;AACA,UAAA,KAAI,CAAC,SAAL,GAAiB,GAAG,CAAC,IAAJ,CAAS,OAA1B;AACA,UAAA,KAAI,CAAC,KAAL,GAAa,GAAG,CAAC,IAAJ,CAAS,KAAtB;AACJ,SARA,MAQO;AACH,UAAA,SAAS,CAAC;AACN,YAAA,OAAO,EAAE,GAAG,CAAC,GADP;AAEN,YAAA,IAAI,EAAE;AAFA,WAAD,CAAT;AAIA,UAAA,KAAI,CAAC,SAAL,GAAiB,CAAjB;AACJ;AACH,OAtBD;AAuBH,KAzBI;AA0BL,IAAA,mBA1BK,iCA0BiB;AAClB,WAAK,IAAL;AACH,KA5BI;AA6BL,IAAA,gBA7BK,4BA6BY,QA7BZ,EA6BsB;AACvB,WAAK,QAAL,GAAgB,QAAhB;AACA,WAAK,IAAL;AACH,KAhCI;AAiCL,IAAA,YAjCK,0BAiCU;AACX,WAAK,IAAL;AACH,KAnCI;AAoCL,IAAA,WApCK,uBAoCO,GApCP,EAoCW;AAAA;;AACZ,MAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;AACA,WAAK,UAAL,GAAkB,GAAlB;AACA,MAAA,OAAO,CAAC,IAAR,CAAa,uBAAb,EAAsC,KAAK,UAA3C,EAAuD,IAAvD,CAA4D,UAAA,GAAE,EAAK;AAC/D,YAAI,GAAG,CAAC,IAAJ,KAAa,GAAjB,EAAsB;AAClB,UAAA,SAAS,CAAC;AACN,YAAA,OAAO,EAAE,OADH;AAEN,YAAA,IAAI,EAAE;AAFA,WAAD,CAAT;;AAIA,UAAA,MAAI,CAAC,IAAL;AACJ,SANA,MAMO;AACH,UAAA,SAAS,CAAC;AACN,YAAA,OAAO,EAAE,GAAG,CAAC,GADP;AAEN,YAAA,IAAI,EAAE;AAFA,WAAD,CAAT;AAIJ;AACH,OAbD;AAcH;AArDI;AAvBE,CAAf","sourcesContent":["<template xmlns:el-col=\"http://www.w3.org/1999/html\">\r\n    <div style=\"padding-left: 20px;padding-right: 20px\">\r\n        <div>\r\n            <el-table :data=\"tableData\" style=\"width: 100%\" stripe>\r\n                <el-table-column prop=\"ticketId\" label=\"票编号\"/>\r\n                <el-table-column prop=\"checi\" label=\"车次\"/>\r\n                <el-table-column prop=\"src\" label=\"出发站\"/>\r\n                <el-table-column prop=\"srcTime\" label=\"出发时间\"/>\r\n                <el-table-column prop=\"dst\" label=\"目的站\"/>\r\n                <el-table-column prop=\"dstTime\" label=\"抵达时间\"/>\r\n                <el-table-column prop=\"trainType\" label=\"类型\"/>\r\n                <el-table-column prop=\"carriageNumber\" label = \"车厢号\"/>\r\n                <el-table-column prop=\"seatNum\" label=\"座位号\"/>\r\n                <el-table-column prop=\"seatType\" label=\"座位类型\"/>\r\n                <!--                <el-table-column prop=\"price\" label=\"价格\"/>-->\r\n                <el-table-column fixed=\"right\" label=\"操作\">\r\n                    <template #default=\"scope\">\r\n                        <el-button type=\"text\" size=\"small\" @click=\"handleClick(scope.row)\">退票</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </div>\r\n        <div class=\"demo-pagination-block\">\r\n            <el-pagination\r\n                    v-model:currentPage=\"currentPage\"\r\n                    :page-sizes=\"[5, 10, 15, 20]\"\r\n                    :page-size=\"pageSize\"\r\n                    layout=\"total, sizes, prev, pager, next, jumper\"\r\n                    :total=\"total\"\r\n                    @size-change=\"handleSizeChange\"\r\n                    @current-change=\"handleCurrentChange\"\r\n            >\r\n            </el-pagination>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    // @ is an alias to /src\r\n    import request from \"../utils/request\";\r\n    import {ElMessage} from 'element-plus'\r\n\r\n    export default {\r\n        name: 'Home',\r\n\r\n        components: {\r\n            ElMessage\r\n        },\r\n        created() {\r\n            this.load()\r\n        },\r\n        data() {\r\n            return {\r\n                total: 0,\r\n                price:0,\r\n                tableData: [],\r\n                ticketForm:{\r\n                    seatType:'',\r\n                    price: 0,\r\n                },\r\n                currentPage: 1,\r\n                pageSize: 5,\r\n                tempForm:{}\r\n            }\r\n        },\r\n        methods: {\r\n            load() {\r\n                request.get(\"/ticketManager/myTicket\", {\r\n                    params:{\r\n                        currentPage:this.currentPage,\r\n                        pageSize:this.pageSize,\r\n                        id:sessionStorage.getItem(\"id\")\r\n                    }\r\n                }).then(res => {\r\n                    if (res.code === '0') {\r\n                        ElMessage({\r\n                            message: \"查询成功!\",\r\n                            type: 'success',\r\n                        })\r\n                        console.log(res)\r\n                        this.tableData = res.data.records\r\n                        this.total = res.data.total\r\n                    } else {\r\n                        ElMessage({\r\n                            message: res.msg,\r\n                            type: 'error',\r\n                        })\r\n                        this.tableData = 0\r\n                    }\r\n                })\r\n            },\r\n            handleCurrentChange() {\r\n                this.load()\r\n            },\r\n            handleSizeChange(pagesize) {\r\n                this.pageSize = pagesize\r\n                this.load()\r\n            },\r\n            handleSearch() {\r\n                this.load()\r\n            },\r\n            handleClick(row){\r\n                console.log(row)\r\n                this.ticketForm = row\r\n                request.post(\"/ticketManager/return\", this.ticketForm).then(res => {\r\n                    if (res.code === '0') {\r\n                        ElMessage({\r\n                            message: \"退票成功!\",\r\n                            type: 'success',\r\n                        })\r\n                        this.load()\r\n                    } else {\r\n                        ElMessage({\r\n                            message: res.msg,\r\n                            type: 'error',\r\n                        })\r\n                    }\r\n                })\r\n            },\r\n        }\r\n    }\r\n</script>\r\n"],"sourceRoot":""}]}